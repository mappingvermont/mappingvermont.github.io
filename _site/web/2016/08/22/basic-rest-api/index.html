<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Standing up a Basic REST API using Flask &#8211; Mapping Vermont</title>
<meta name="description" content="Building pretty URLs for xfade.audio">
<meta name="keywords" content="python, flask, REST">


<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Standing up a Basic REST API using Flask">
<meta property="og:description" content="Building pretty URLs for xfade.audio">
<meta property="og:url" content="http://localhost:4000/web/2016/08/22/basic-rest-api/">
<meta property="og:site_name" content="Mapping Vermont">





<link rel="canonical" href="http://localhost:4000/web/2016/08/22/basic-rest-api/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Mapping Vermont Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.min.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="http://localhost:4000/assets/js/vendor/html5shiv.min.js"></script>
	<script src="http://localhost:4000/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://localhost:4000">Mapping Vermont</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				<li><a href="http://localhost:4000/about/" >About</a></li>
		        
				<li><a href="http://localhost:4000/posts/" >Posts</a></li>
		        
				<li><a href="http://localhost:4000/projects/" >Projects</a></li>
		        
				<li><a href="http://localhost:4000/data/" >Data</a></li>
		        
				<li><a href="http://localhost:4000/resources/" >Resources</a></li>
		        
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    <img src="http://localhost:4000/images/bio-photo.jpg" class="bio-photo" alt="MappingVermont bio photo"></a>
<h3>MappingVermont</h3>
<p></p>





<a href="http://github.com/mappingvermont" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>



  </div>
  <article>
    <div class="headline-wrap">
      <h1>Standing up a Basic REST API using Flask</h1>
      <h2></h2>
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>My first website for DJing was <a href="http:\\twoyoutubevideosandamotherfuckingcrossfader.com">twoyoutubevideosandamotherfuckingcrossfader.com</a>. It’s pretty standard, and for a long time it did what it promised: allowed users to play youtube videos, crossfading one into another for a basic DJ-like feel. When it stopped working recently, <a href="https://twitter.com/stapletweets">Nico Staple</a> set out to build his own. One weekend later, he’d produced this:<br />
<br />
<a href="http://xfade.audio">xfade.audio</a><br />
<br />
It’s got everything: search for videos, create playlists and fade one track into another, all within a sleek interface. My nascent JavaScript skills aren’t ready for primetime just yet, but I did want to contribute in some way. One of my favorite features of mapping sites is the ease of sharing map views. As you pan the map and toggle layers, the URL updates– storing your coordinates and configuration for the layers you have turned on.<br />
<br />
We set out to build something similar for Crossfade. Instead of encoding all the parameters in the URL, we wanted a compact hash: something like <a href="http://xfade.audio/#ELe36rd6">xfade.audio/#ELe36rd6</a> that could be used to lookup a JSON config in a database. I’ve worked a fair amount with Flask, and used <a href="https://realpython.com/blog/python/flask-by-example-part-3-text-processing-with-requests-beautifulsoup-nltk/">this great tutorial</a> to get me started. The final workflow looks like this:</p>

<ul>
  <li>User adds/deletes a video from the queue on <a href="www.xfade.audio">xfade.audio</a></li>
  <li>Site sends a <code class="language-plaintext highlighter-rouge">POST</code> request to <code class="language-plaintext highlighter-rouge">crossfade-api.mappingvermont.org/collection/new</code> containing the config for current videos displayed</li>
  <li>Flask API receives the request, adds the POSTed JSON to postgres</li>
  <li>API responds with the hash-encoded unique ID from the database table</li>
</ul>

<p>Later, when someone shares the link, a GET request to <a href="http://crossfade-api.mappingvermont.org/collection/ELe36rd6">crossfade-api.mappingvermont.org/collection/ELe36rd6</a> can retrieve the previous configuration.<br />
<br />
Check out the <a href="http://xfade.audio">final product</a>. Nico and I were pleasantly surprised by the speed of the response. When this app goes viral, of course, we’ll have to rebuild the code, maybe even bringing front-end and back-end code under the same roof. Until then, it was cool to hack on an API that contributes to a beautiful website. Final code is here:<br />
<br />
<a href="http://github.com/mappingvermont/crossfade-api">http://github.com/mappingvermont/crossfade-api</a>.</p>

      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          <img src="http://localhost:4000/images/bio-photo.jpg" class="bio-photo" alt="MappingVermont bio photo"></a>
<h3>MappingVermont</h3>
<p></p>





<a href="http://github.com/mappingvermont" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>



        </div>
        </footer>
    </div><!-- /.article-wrap -->
  </article>

</div><!-- /#main -->

<div class="footer-wrap">

  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://localhost:4000/posts/">View all posts</a>)</small></h4>
    <ul>
    
      
      
      
      <li><a href="http://localhost:4000/web/2021/11/27/famous-vermonters/" title="Famous Vermonters">Famous Vermonters</a></li>
      
    
      
      
      
      <li><a href="http://localhost:4000/web/2017/10/09/vermont-town-tracker/" title="Vermont Town Tracker">Vermont Town Tracker</a></li>
      
    
      
      
      
      <li><a href="http://localhost:4000/web/2017/08/13/sanborn-chrome-extension/" title="A Sanborn Map For Every New Tab">A Sanborn Map For Every New Tab</a></li>
      
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2023 MappingVermont. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>
	        

</body>
</html>
