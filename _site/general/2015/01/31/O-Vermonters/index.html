<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>O Vermonters! &#8211; Mapping Vermont</title>
<meta name="description" content="Identity and politics in the Green Mountain State">
<meta name="keywords" content="D3, Politics">


<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="O Vermonters!">
<meta property="og:description" content="Identity and politics in the Green Mountain State">
<meta property="og:url" content="http://localhost:4000/general/2015/01/31/O-Vermonters/">
<meta property="og:site_name" content="Mapping Vermont">





<link rel="canonical" href="http://localhost:4000/general/2015/01/31/O-Vermonters/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Mapping Vermont Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.min.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="http://localhost:4000/assets/js/vendor/html5shiv.min.js"></script>
	<script src="http://localhost:4000/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://localhost:4000">Mapping Vermont</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				<li><a href="http://localhost:4000/about/" >About</a></li>
		        
				<li><a href="http://localhost:4000/posts/" >Posts</a></li>
		        
				<li><a href="http://localhost:4000/projects/" >Projects</a></li>
		        
				<li><a href="http://localhost:4000/data/" >Data</a></li>
		        
				<li><a href="http://localhost:4000/resources/" >Resources</a></li>
		        
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    <img src="http://localhost:4000/images/bio-photo.jpg" class="bio-photo" alt="MappingVermont bio photo"></a>
<h3>MappingVermont</h3>
<p></p>





<a href="http://github.com/mappingvermont" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>



  </div>
  <article>
    <div class="headline-wrap">
      <h1>O Vermonters!</h1>
      <h2></h2>
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>Living in Vermont is kind of a big deal. Of those that make this choice, the vast majority are proud to be here– proud of the ready access to woods and wilderness, proud of the toughness developed over 6-month-long winters, and proud of the delicious food, beer, and maple syrup that it’s tough to find any place else. Not everyone can live in Vermont; it takes a certain kind of person to forgo a high profile career and salary in favor of piecing together seasonal work and a part time job at a non-profit that’s an hour away, but people do it. For this committment and sheer stick-to-it-ness, these people are called “Vermonters”.<br />
<br />
I’m as proud of this appellation as anyone, but lately I’ve been feeling like it’s a bit over-used. Hearing Governor Shumlin’s recent address  brought this to my attention, his nasal tone invoking our collective identity three times in the first five sentences:</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">Mr</span><span class="o">.</span> <span class="nt">President</span><span class="o">,</span> <span class="nt">Mr</span><span class="o">.</span> <span class="nt">Speaker</span><span class="o">,</span> <span class="nt">members</span> <span class="nt">of</span> <span class="nt">the</span> <span class="nt">General</span> <span class="nt">Assembly</span><span class="o">,</span> <span class="nt">distinguished</span> <span class="nt">guests</span><span class="o">,</span>
<span class="nt">and</span> <span class="nt">fellow</span> <span class="nt">Vermonters</span><span class="o">:</span>

<span class="nt">Thank</span> <span class="nt">you</span> <span class="nt">for</span> <span class="nt">the</span> <span class="nt">tremendous</span> <span class="nt">honor</span> <span class="nt">and</span> <span class="nt">opportunity</span> <span class="nt">to</span> <span class="nt">serve</span> <span class="nt">again</span> <span class="nt">as</span> <span class="nt">Governor</span><span class="o">.</span>
<span class="nt">As</span> <span class="nt">a</span> <span class="nt">Vermonter</span> <span class="nt">who</span> <span class="nt">grew</span> <span class="nt">up</span><span class="o">,</span> <span class="nt">raised</span> <span class="nt">my</span> <span class="nt">daughters</span><span class="o">,</span> <span class="nt">and</span> <span class="nt">built</span> <span class="nt">two</span> <span class="nt">businesses</span> <span class="nt">here</span><span class="o">,</span> <span class="nt">it</span>
<span class="nt">is</span> <span class="nt">the</span> <span class="nt">greatest</span> <span class="nt">privilege</span> <span class="nt">of</span> <span class="nt">my</span> <span class="nt">life</span> <span class="nt">to</span> <span class="nt">give</span> <span class="nt">back</span> <span class="nt">to</span> <span class="nt">the</span> <span class="nt">state</span> <span class="nt">that</span> <span class="nt">has</span> <span class="nt">given</span> <span class="nt">me</span>
<span class="nt">so</span> <span class="nt">much</span><span class="o">.</span> <span class="nt">I</span> <span class="nt">love</span> <span class="nt">serving</span> <span class="nt">as</span> <span class="nt">Governor</span> <span class="nt">because</span> <span class="nt">I</span> <span class="nt">love</span> <span class="nt">Vermont</span><span class="o">.</span>

<span class="nt">I</span> <span class="nt">have</span> <span class="nt">worked</span> <span class="nt">hard</span> <span class="nt">as</span> <span class="nt">Governor</span> <span class="nt">to</span> <span class="nt">improve</span> <span class="nt">life</span> <span class="nt">for</span> <span class="nt">Vermonters</span> <span class="nt">in</span> <span class="nt">these</span>
<span class="nt">still-difficult</span> <span class="nt">times</span><span class="o">.</span></code></pre></figure>

<p>I decided to take a look at the use of “Vermonters” in every inaugural address, beginning with Thomas Chittenden in 1779, and compare it to the total words used by each Governor (Chittenden’s 1779 stats: 835 words, 0 “Vermonters”). The Secretary of State has a great <a href="https://www.sec.state.vt.us/archives-records/state-archives/government-history/inaugurals-and-farewells/table-of-addresses.aspx">archive</a> of these addresses (unfortunately all in PDF), and so I wrote a Python script to download it and convert them to text. For those interested, the text files are available <a href="/data/inauguraladdresses">here</a>.<br />
<br />
I used the NLTK package to count the occurrence of “Vermonter” or “Vermonters” in each document, with the big winner being Jim Douglas, whose 2007 address used the word 33 times. Here’s my favorite sentence from his speech:</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">I</span> <span class="nt">have</span> <span class="nt">warmed</span> <span class="nt">the</span> <span class="nt">thin</span> <span class="nt">hands</span> <span class="nt">of</span> <span class="nt">older</span> <span class="nt">Vermonters</span><span class="o">,</span> <span class="nt">their</span> <span class="nt">eyes</span> <span class="nt">still</span> <span class="nt">sparkling</span>
<span class="nt">between</span> <span class="nt">deep</span> <span class="nt">gray</span> <span class="nt">granite</span> <span class="nt">lines</span> <span class="nt">of</span> <span class="nt">age</span><span class="o">.</span></code></pre></figure>

<p>I also wanted to see how these trends played out over time. I wrote the results to CSV, and then graphed word count over time, with the “Vermonter” count symbolized by the size of each point. Much is owed to this great <a href="http://wrobstory.github.io/2013/11/D3-brush-and-tooltip.html">D3 graph example</a> and this <a href="http://stackoverflow.com/questions/22651346/how-to-embed-a-d3-js-example-to-the-jekyll-blog-post">stack exchange post</a> about integrating D3 with Jekyll. Here’s the final product:</p>

<style>

#example .point {
  fill: #2f225d;
  stroke: #afa2dc;
}

#example .selected {
  fill: #afa2dc;
  stroke: #2f225d;
}

#example .axis {
  font: 10px sans-serif;
}

#example p {
  font: 12px sans-serif;
  margin: 0 0 0 0;
  padding: 0;
}

#main .tooltip {
  font: 12px sans-serif;
  margin: 0 0 0 0;
  padding: 0;
}

#example .clear-button {
  font: 14px sans-serif;
  cursor: pointer;
}

#example .axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

#example .brush .extent {
  stroke: #fff;
  fill-opacity: .125;
  shape-rendering: crispEdges;
}
</style>

<script src="https://d3js.org/d3.v3.min.js"></script>

<script>
d3.helper = {};

d3.helper.tooltip = function(){
    var tooltipDiv;
    var bodyNode = d3.select('div#main').node();

    function tooltip(selection){

        selection.on('mouseover.tooltip', function(pD, pI){
            // Clean up lost tooltips
            d3.select('div#main').selectAll('div.tooltip').remove();
            // Append tooltip
            tooltipDiv = d3.select('div#main')
                           .append('div')
                           .attr('class', 'tooltip')
            var absoluteMousePos = d3.mouse(bodyNode);
            tooltipDiv.style({

                left: (absoluteMousePos[0])+'px',
                top: (absoluteMousePos[1])+'px',
                'background-color': '#d8d5e4',
                width: '170px',
                height: '60px',
                padding: '5px',
                position: 'absolute',
                'z-index': 1001,
                'box-shadow': '0 1px 2px 0 #656565'
            });

            var first_line = '<p>Governor: ' + pD.governor + '<br>'
            var second_line = 'Year: ' + pD.year + '<br>'
            var third_line = 'Total Words: ' + pD.totalwords_text + '<br>'
            var fourth_line = 'Number of "Vermonters": ' + pD.numvermonters

            tooltipDiv.html(first_line + second_line + third_line + fourth_line)
        })
        .on('mousemove.tooltip', function(pD, pI){
            // Move tooltip
            var absoluteMousePos = d3.mouse(bodyNode);
            tooltipDiv.style({
                left: (absoluteMousePos[0] - 190)+'px',
                top: (absoluteMousePos[1] + 10)+'px'
            });
        })
        .on('mouseout.tooltip', function(pD, pI){
            // Remove tooltip
            tooltipDiv.remove();
        });

    }

    tooltip.attr = function(_x){
        if (!arguments.length) return attrs;
        attrs = _x;
        return this;
    };

    tooltip.style = function(_x){
        if (!arguments.length) return styles;
        styles = _x;
        return this;
    };

    return tooltip;
};

var data = [];
var values = [];


d3.csv("/data/inauguraladdresses/wordcount.csv", function(csvData) {

  csvData.forEach(function(d) {

	data.push({
	index: +d.UniqueID,
    year: +d.Year,
    governor: d.Governor,
    totalwords: d.Totalwords,
    totalwords_text: d.Totalwords_STR,
    numvermonters: +d.Numberofvermonters,
    pcttotal: parseFloat(d.Pctwords)
	});

	values.push(+d.Totalwords);

  });
  buildChart(data);
})

function buildChart(inputData){

	var margin = {top: 20, right: 50, bottom: 60, left: 40},
		width = 720 - margin.left - margin.right,
		height = 500 - margin.top - margin.bottom;

	var x = d3.scale.linear()
		.range([0, width])
		.domain([1775, 2026]);

	var y = d3.scale.linear()
		.range([height, 0])
		.domain([0, d3.max(values) + 100]);

	var brush = d3.svg.brush()
		.x(x)
		.on("brush", brushmove)
		.on("brushend", brushend);

	var xAxis = d3.svg.axis()
		.scale(x)
		.orient("bottom").tickFormat(d3.format("d"));

	var yAxis = d3.svg.axis()
		.scale(y)
		.orient("left")
		.ticks(11);

	var svg = d3.select("div#example").append("svg")
		.attr("width", width + margin.left + margin.right)
		.attr("height", height + margin.top + margin.bottom)
	  .append("g")
		.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

	svg.append("g")
		.attr("class", "x axis")
		.attr("clip-path", "url(#clip)")
		.attr("transform", "translate(0," + height + ")")
		.call(xAxis);

	svg.append("g")
		.attr("class", "y axis")
		.call(yAxis);

	svg.append("g")
		.attr("class", "brush")
		.call(brush)
	  .selectAll('rect')
		.attr('height', height);

	svg.append("defs").append("clipPath")
		.attr("id", "clip")
	  .append("rect")
		.attr("width", width)
		.attr("height", height + 20);

	points = svg.selectAll(".point")
		.data(inputData)
	  .enter().append("circle")
		.attr("class", "point")
		.attr("clip-path", "url(#clip)")
		.attr("r", function(d){return d.numvermonters + 1.75;})
		.attr("cx", function(d) { return x(d.year); })
		.attr("cy", function(d) { return y(d.totalwords); })
		.call(d3.helper.tooltip());

	points.on('mousedown', function(){
	  brush_elm = svg.select(".brush").node();
	  new_click_event = new Event('mousedown');
	  new_click_event.pageX = d3.event.pageX;
	  new_click_event.clientX = d3.event.clientX;
	  new_click_event.pageY = d3.event.pageY;
	  new_click_event.clientY = d3.event.clientY;
	  brush_elm.dispatchEvent(new_click_event);
	});

	function brushmove() {
	  var extent = brush.extent();
	  points.classed("selected", function(d) {
		is_brushed = extent[0] <= d.year && d.year <= extent[1];
		return is_brushed;
	  });
	}

	function brushend() {
	  get_button = d3.select(".clear-button");
	  if(get_button.empty() === true) {
		clear_button = svg.append('text')
		  .attr("y", 460)
		  .attr("x", 540)
		  .attr("class", "clear-button")
		  .text("Clear Brush");
	  }

	  x.domain(brush.extent());

	  transition_data();
	  reset_axis();

	  points.classed("selected", false);
	  d3.select(".brush").call(brush.clear());

	  clear_button.on('click', function(){
		x.domain([1778, 2016]);
		transition_data();
		reset_axis();
		clear_button.remove();
	  });
	}

	function transition_data() {
	  svg.selectAll(".point")
		.data(data)
	  .transition()
		.duration(500)
		.attr("cx", function(d) { return x(d.year); });
	}

	function reset_axis() {
	  svg.transition().duration(500)
	   .select(".x.axis")
	   .call(xAxis);
	}
}

</script>

<div id="example"></div>

      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          <img src="http://localhost:4000/images/bio-photo.jpg" class="bio-photo" alt="MappingVermont bio photo"></a>
<h3>MappingVermont</h3>
<p></p>





<a href="http://github.com/mappingvermont" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>



        </div>
        </footer>
    </div><!-- /.article-wrap -->
  </article>

</div><!-- /#main -->

<div class="footer-wrap">

  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://localhost:4000/posts/">View all posts</a>)</small></h4>
    <ul>
    
      
      
      
    
      
      
      
    
      
      
      
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2023 MappingVermont. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>
	        

</body>
</html>
